body {
  background-image: 
    radial-gradient(ellipse at 20% 30%, rgba(99, 0, 192, 0.15) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 70%, rgba(30, 144, 255, 0.1) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(206, 0, 110, 0.08) 0%, transparent 50%),
    radial-gradient(
      1600px at 10% 50%,
      #12102e 10%,
      #020409 40%,
      #000000 100%
    );
  height: 100vh;
}

#sky {
  width: 100%;
  height: 100vh;
  margin: 0 auto;
  padding: 4rem;
  position: relative;
  overflow: hidden;
  contain: layout style paint;
  isolation: isolate;
  pointer-events: none;
}

/* Multi-layer starfield - Base layer styles */
#sky .star-layer {
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  position: absolute;
  z-index: 0;
  overflow: hidden;
  /* GPU acceleration and isolation */
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Progressive fade-in animation */
@keyframes fadeInStars {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1) translateZ(0);
  }
  25% {
    opacity: 0.8;
    transform: scale(1.1) translateZ(0);
  }
  50% {
    opacity: 0.5;
    transform: scale(0.95) translateZ(0);
  }
  75% {
    opacity: 1;
    transform: scale(1.15) translateZ(0);
  }
}

/* Slow drift animation for parallax effect */
@keyframes drift {
  0% {
    transform: translate(0, 0) translateZ(0);
  }
  50% {
    transform: translate(2%, 1%) translateZ(0);
  }
  100% {
    transform: translate(0, 0) translateZ(0);
  }
}

/* Zoom in/out animation - dynamic movement like old code, optimized for GPU */
@keyframes zoom {
  0% {
    opacity: 0.5;
    transform: scale(1) translateZ(0);
    animation-timing-function: ease-in-out;
  }
  85% {
    opacity: 1;
    transform: scale(1.8) translateZ(0);
    animation-timing-function: linear;
  }
  100% {
    opacity: 0.5;
    transform: scale(2) translateZ(0);
  }
}

/* Far layer stars - many small stars, varied colors, realistic distribution */
#sky .star-layer.far s {
  background-image: 
    /* White stars (most common) */
    radial-gradient(0.8px 0.8px at 20px 30px, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(0.6px 0.6px at 45px 75px, rgba(255, 255, 255, 0.8), transparent),
    radial-gradient(0.7px 0.7px at 70px 20px, rgba(255, 255, 255, 0.85), transparent),
    radial-gradient(0.5px 0.5px at 95px 60px, rgba(255, 255, 255, 0.7), transparent),
    radial-gradient(0.8px 0.8px at 120px 90px, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(0.6px 0.6px at 150px 40px, rgba(255, 255, 255, 0.75), transparent),
    radial-gradient(0.7px 0.7px at 180px 80px, rgba(255, 255, 255, 0.85), transparent),
    radial-gradient(0.5px 0.5px at 210px 15px, rgba(255, 255, 255, 0.7), transparent),
    /* Blue-white stars */
    radial-gradient(0.7px 0.7px at 35px 55px, rgba(200, 220, 255, 0.8), transparent),
    radial-gradient(0.6px 0.6px at 85px 25px, rgba(180, 200, 255, 0.75), transparent),
    radial-gradient(0.8px 0.8px at 140px 70px, rgba(190, 210, 255, 0.85), transparent),
    /* Yellow-white stars */
    radial-gradient(0.6px 0.6px at 60px 45px, rgba(255, 250, 200, 0.7), transparent),
    radial-gradient(0.7px 0.7px at 110px 35px, rgba(255, 245, 190, 0.8), transparent),
    radial-gradient(0.5px 0.5px at 170px 65px, rgba(255, 240, 180, 0.65), transparent);
  background-repeat: repeat;
  background-size: 250px 250px;
  opacity: 0;
  overflow: hidden;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  transform-origin: center center;
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  animation: fadeInStars 3s ease-in forwards, zoom 30s infinite alternate ease-in-out, drift 120s infinite ease-in-out;
  animation-delay: 0s, 3s, 0s;
}

/* Mid layer stars - medium size, varied colors, more realistic */
#sky .star-layer.mid s {
  background-image: 
    /* Bright white stars */
    radial-gradient(1.5px 1.5px at 25px 35px, rgba(255, 255, 255, 0.95), transparent),
    radial-gradient(2px 2px at 95px 45px, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(1.8px 1.8px at 65px 25px, rgba(255, 255, 255, 0.92), transparent),
    /* Blue-white stars (hotter stars) */
    radial-gradient(2px 2px at 45px 75px, rgba(180, 200, 255, 0.85), transparent),
    radial-gradient(1.5px 1.5px at 35px 12px, rgba(200, 220, 255, 0.8), transparent),
    radial-gradient(1.7px 1.7px at 85px 60px, rgba(190, 210, 255, 0.88), transparent),
    /* Yellow-white stars (like our sun) */
    radial-gradient(1.6px 1.6px at 55px 65px, rgba(255, 240, 200, 0.85), transparent),
    radial-gradient(2px 2px at 75px 15px, rgba(255, 245, 210, 0.9), transparent),
    radial-gradient(1.5px 1.5px at 105px 80px, rgba(255, 235, 190, 0.8), transparent),
    /* Orange stars (cooler stars) */
    radial-gradient(1.8px 1.8px at 115px 30px, rgba(255, 200, 150, 0.75), transparent),
    radial-gradient(1.4px 1.4px at 50px 90px, rgba(255, 210, 160, 0.7), transparent);
  background-size: 200px 200px;
  opacity: 0;
  transform-origin: center center;
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  animation: fadeInStars 3s ease-in forwards, zoom 25s infinite alternate ease-in-out, drift 100s infinite ease-in-out;
  animation-delay: 1s, 4s, 0s;
}

/* Near layer stars - bright, larger stars with realistic colors and glow */
#sky .star-layer.near s {
  background-image: 
    /* Very bright white stars (close stars) */
    radial-gradient(3px 3px at 30px 40px, rgba(255, 255, 255, 1), transparent),
    radial-gradient(2.5px 2.5px at 100px 50px, rgba(255, 255, 255, 0.95), transparent),
    radial-gradient(3.5px 3.5px at 40px 15px, rgba(255, 255, 255, 1), transparent),
    /* Blue-white bright stars */
    radial-gradient(3px 3px at 60px 70px, rgba(180, 200, 255, 0.95), transparent),
    radial-gradient(2.8px 2.8px at 70px 30px, rgba(200, 220, 255, 0.9), transparent),
    /* Yellow-white bright stars */
    radial-gradient(3px 3px at 50px 80px, rgba(255, 240, 200, 0.92), transparent),
    radial-gradient(2.5px 2.5px at 90px 20px, rgba(255, 245, 210, 0.9), transparent),
    /* Orange/red stars (cooler, dimmer but visible) */
    radial-gradient(2.8px 2.8px at 110px 75px, rgba(255, 200, 150, 0.85), transparent),
    radial-gradient(2.2px 2.2px at 25px 90px, rgba(255, 180, 140, 0.8), transparent);
  background-size: 150px 150px;
  opacity: 0;
  transform-origin: center center;
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  animation: fadeInStars 3s ease-in forwards, zoom 20s infinite alternate ease-in-out, drift 80s infinite ease-in-out;
  animation-delay: 2s, 5s, 0s;
}

/* Twinkling stars layer - stars that naturally twinkle */
#sky .star-layer.twinkle s {
  background-image: 
    radial-gradient(2px 2px at 30px 50px, rgba(255, 255, 255, 0.9), transparent),
    radial-gradient(1.8px 1.8px at 70px 25px, rgba(200, 220, 255, 0.85), transparent),
    radial-gradient(2.2px 2.2px at 120px 70px, rgba(255, 240, 200, 0.88), transparent),
    radial-gradient(1.9px 1.9px at 50px 85px, rgba(255, 255, 255, 0.87), transparent),
    radial-gradient(2.1px 2.1px at 95px 40px, rgba(180, 200, 255, 0.9), transparent);
  background-size: 180px 180px;
  opacity: 0;
  transform-origin: center center;
  will-change: transform, opacity;
  transform: translateZ(0);
  backface-visibility: hidden;
  animation: fadeInStars 4s ease-in forwards, twinkle 3s infinite ease-in-out, drift 90s infinite ease-in-out;
  animation-delay: 2.5s, 4.5s, 0s;
}

/* Individual twinkling stars with unique timing */
#sky .star-layer.twinkle s:nth-child(1) {
  animation-delay: 2.5s, 4.5s, 0s;
}
#sky .star-layer.twinkle s:nth-child(2) {
  animation-delay: 2.7s, 5s, 0s;
}
#sky .star-layer.twinkle s:nth-child(3) {
  animation-delay: 2.9s, 5.5s, 0s;
}
#sky .star-layer.twinkle s:nth-child(4) {
  animation-delay: 3.1s, 6s, 0s;
}
#sky .star-layer.twinkle s:nth-child(5) {
  animation-delay: 3.3s, 6.5s, 0s;
}

/* Star layer positioning - more realistic random distribution */
#sky .star-layer.far s:nth-child(1) {
  background-position: 10% 20%;
}
#sky .star-layer.far s:nth-child(2) {
  background-position: 45% 65%;
}
#sky .star-layer.far s:nth-child(3) {
  background-position: 80% 15%;
}
#sky .star-layer.far s:nth-child(4) {
  background-position: 25% 85%;
}
#sky .star-layer.far s:nth-child(5) {
  background-position: 70% 50%;
}
#sky .star-layer.far s:nth-child(6) {
  background-position: 15% 45%;
}
#sky .star-layer.far s:nth-child(7) {
  background-position: 90% 75%;
}
#sky .star-layer.far s:nth-child(8) {
  background-position: 55% 30%;
}

#sky .star-layer.mid s:nth-child(1) {
  background-position: 30% 40%;
}
#sky .star-layer.mid s:nth-child(2) {
  background-position: 60% 70%;
}
#sky .star-layer.mid s:nth-child(3) {
  background-position: 15% 25%;
}
#sky .star-layer.mid s:nth-child(4) {
  background-position: 75% 55%;
}
#sky .star-layer.mid s:nth-child(5) {
  background-position: 40% 80%;
}
#sky .star-layer.mid s:nth-child(6) {
  background-position: 85% 20%;
}

#sky .star-layer.near s:nth-child(1) {
  background-position: 25% 35%;
}
#sky .star-layer.near s:nth-child(2) {
  background-position: 65% 60%;
}
#sky .star-layer.near s:nth-child(3) {
  background-position: 45% 15%;
}
#sky .star-layer.near s:nth-child(4) {
  background-position: 80% 75%;
}
#sky .star-layer.near s:nth-child(5) {
  background-position: 20% 85%;
}

#sky .star-layer.twinkle s:nth-child(1) {
  background-position: 35% 50%;
}
#sky .star-layer.twinkle s:nth-child(2) {
  background-position: 70% 25%;
}
#sky .star-layer.twinkle s:nth-child(3) {
  background-position: 50% 70%;
}
#sky .star-layer.twinkle s:nth-child(4) {
  background-position: 15% 85%;
}
#sky .star-layer.twinkle s:nth-child(5) {
  background-position: 85% 40%;
}

/* Shooting Stars - Rare, smooth appearances with glowing trails */
.shooting-star {
  position: absolute;
  width: 2px;
  height: 2px;
  background: rgba(255, 255, 255, 1);
  border-radius: 50%;
  box-shadow: 
    0 0 8px rgba(255, 255, 255, 0.9),
    0 0 16px rgba(255, 255, 255, 0.7),
    0 0 24px rgba(200, 220, 255, 0.5),
    -150px 0 30px rgba(255, 255, 255, 0.4),
    -300px 0 40px rgba(200, 220, 255, 0.3),
    -450px 0 50px rgba(180, 200, 255, 0.2);
  opacity: 0;
  top: var(--start-y, 0%);
  left: var(--start-x, 0%);
  z-index: 10;
  will-change: transform, opacity;
  transform: translateZ(0);
  filter: blur(0.5px);
}

/* Shooting star animation - smooth, slow movement with gentle fade */
@keyframes shoot {
  0% {
    opacity: 0;
    transform: translate(0, 0) translateZ(0);
  }
  8% {
    opacity: 1;
  }
  92% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translate(var(--move-x, 100vw), var(--move-y, 100vh)) translateZ(0);
  }
}

.shooting-star {
  animation: shoot var(--duration, 3.5s) cubic-bezier(0.4, 0, 0.2, 1) infinite;
  animation-delay: var(--delay, 0s);
}

/* Additional shooting stars with different colors and smoother trails */
.shooting-star:nth-child(6) {
  width: 1.8px;
  height: 1.8px;
  box-shadow: 
    0 0 7px rgba(200, 220, 255, 0.85),
    0 0 14px rgba(200, 220, 255, 0.65),
    0 0 21px rgba(180, 200, 255, 0.45),
    -140px 0 28px rgba(200, 220, 255, 0.35),
    -280px 0 38px rgba(180, 200, 255, 0.25),
    -420px 0 48px rgba(160, 180, 255, 0.15);
}

.shooting-star:nth-child(7) {
  width: 2.2px;
  height: 2.2px;
  box-shadow: 
    0 0 9px rgba(255, 240, 200, 0.9),
    0 0 18px rgba(255, 240, 200, 0.7),
    0 0 27px rgba(255, 220, 180, 0.5),
    -160px 0 32px rgba(255, 240, 200, 0.4),
    -320px 0 42px rgba(255, 220, 180, 0.3),
    -480px 0 52px rgba(255, 200, 150, 0.2);
}

.shooting-star:nth-child(8) {
  width: 1.6px;
  height: 1.6px;
  box-shadow: 
    0 0 6px rgba(180, 200, 255, 0.8),
    0 0 12px rgba(180, 200, 255, 0.6),
    0 0 18px rgba(160, 180, 255, 0.4),
    -130px 0 26px rgba(180, 200, 255, 0.3),
    -260px 0 36px rgba(160, 180, 255, 0.2),
    -390px 0 46px rgba(140, 160, 255, 0.15);
}

.shooting-star:nth-child(9) {
  width: 2.4px;
  height: 2.4px;
  box-shadow: 
    0 0 10px rgba(255, 255, 255, 1),
    0 0 20px rgba(255, 255, 255, 0.8),
    0 0 30px rgba(200, 220, 255, 0.6),
    -170px 0 35px rgba(255, 255, 255, 0.5),
    -340px 0 45px rgba(200, 220, 255, 0.4),
    -510px 0 55px rgba(180, 200, 255, 0.3);
}

.shooting-star:nth-child(10) {
  width: 1.9px;
  height: 1.9px;
  box-shadow: 
    0 0 7px rgba(255, 200, 150, 0.8),
    0 0 14px rgba(255, 200, 150, 0.6),
    0 0 21px rgba(255, 180, 140, 0.4),
    -145px 0 29px rgba(255, 200, 150, 0.3),
    -290px 0 39px rgba(255, 180, 140, 0.2),
    -435px 0 49px rgba(255, 160, 120, 0.15);
}

